<!doctype html><html lang=zh dir=auto><head><meta name=generator content="Hugo 0.112.0-DEV"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Pan'Log</title><meta name=description content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"><meta name=author content="Pan"><link rel=canonical href=https://payne4handsome.github.io/><link crossorigin=anonymous href=/assets/css/stylesheet.541955f499cd4d76b0863a0426411d26c7eb9a4b1c5a15e91740b02838d41e68.css integrity="sha256-VBlV9JnNTXawhjoEJkEdJsfrmkscWhXpF0CwKDjUHmg=" rel="preload stylesheet" as=style><link rel=icon href=https://payne4handsome.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://payne4handsome.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://payne4handsome.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://payne4handsome.github.io/apple-touch-icon.png><link rel=mask-icon href=https://payne4handsome.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/json href=https://payne4handsome.github.io/index.json><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Pan'Log"><meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"><meta property="og:type" content="website"><meta property="og:url" content="https://payne4handsome.github.io/"><meta property="og:image" content="https://payne4handsome.github.io/papermod-cover.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://payne4handsome.github.io/papermod-cover.png"><meta name=twitter:title content="Pan'Log"><meta name=twitter:description content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Pan'Log","url":"https://payne4handsome.github.io","description":"Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod","thumbnailUrl":"https://payne4handsome.github.io/favicon.ico","sameAs":[]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class="header intro-header" style=background-image:url(cover001.jpg)><nav class=nav><div class=logo><a href=https://payne4handsome.github.io accesskey=h title="Pan'Log (Alt + H)">Pan'Log</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://payne4handsome.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://payne4handsome.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://payne4handsome.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://payne4handsome.github.io/archives title=Archive><span>Archive</span></a></li></ul></nav><article class="first-entry1 home-info"><header class=entry-header><h1>Pan&rsquo;Blog</h1></header><div class=entry-content><p>Welcome to pan&rsquo;s blog.</p><ul><li>Hi, this is <strong>Zhang Pan</strong>. Iâ€™m documenting my learning notes in this blog</li><li>Do give a ğŸŒŸ on Github !</li></ul></div><footer class=entry-footer><div class=social-icons></div></footer></article></header><main class=main><article class=post-entry><header class=entry-header><h2>PCA</h2></header><div class=entry-content><p>preliminary ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡ è®¾Aä¸ºné˜¶å®æ–¹é˜µï¼Œå¦‚æœå­˜åœ¨æŸä¸ªæ•°$\lambda$åŠæŸä¸ªnç»´éé›¶åˆ—å‘é‡$x$ï¼Œä½¿å¾—$Ax=\lambda x$ï¼Œåˆ™ç§°$\lambda$æ˜¯æ–¹é˜µAçš„ä¸€ä¸ªç‰¹å¾å€¼ï¼Œ$x$æ˜¯æ–¹é˜µAçš„å±äºç‰¹å¾å€¼çš„ä¸€ä¸ªç‰¹å¾å‘é‡ã€‚
ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡æ±‚è§£ $$Ax = \lambda x, x\not ={0} \\ \iff (A- \lambda E)x=0, x\not ={0} \\ \iff |A-\lambda E|=0 $$
å…¶ä¸­$|A-\lambda E|$ç§°ä¸ºç‰¹å¾å¤šé¡¹å¼ã€‚
æ³¨ï¼šné˜¶æ–¹é˜µä¸€å®šå­˜åœ¨nä¸ªç‰¹å¾æ ¹ï¼ˆå¯èƒ½å­˜åœ¨å¤æ ¹å’Œé‡æ ¹ï¼‰
åæ–¹å·®çŸ©é˜µ å‡è®¾å­˜åœ¨ä¸€ä¸ªmå¤§å°æ•°æ®é›†ï¼Œæ¯ä¸ªæ ·æœ¬çš„ç‰¹å¾ç»´åº¦ä¸ºnã€‚é‚£ä¹ˆè¿™ä¸ªæ•°æ®é›†å¯ä»¥è¡¨ç¤ºä¸º$X_{n * m}$, å…¶ä¸­æ¯ä¸€åˆ—è¡¨ç¤ºä¸€ä¸ªæ ·æœ¬ï¼Œæ¯ä¸€è¡Œè¡¨ç¤ºéšæœºå˜é‡xçš„mä¸ªè§‚å¯Ÿå€¼ã€‚nè¡Œè¡¨ç¤ºæœ‰nä¸ªéšæœºå˜é‡ã€‚æˆ‘ä»¬ç”¨ $K=(x_1, x_2, â€¦,x_n)$è¡¨ç¤ºè¿™ä¸ªéšæœºå˜é‡åºåˆ—ï¼Œåˆ™è¿™ä¸ªå˜é‡åºåˆ—çš„åæ–¹å·®çŸ©é˜µä¸ºï¼š
$$C=(c_{ij})_{n * n}=\left[\begin{matrix} cov(x_1, x_1) & cov(x_1, x_2) & â€¦ &amp;cov(x_1, x_n)\\ cov(x_2, x_1) & cov(x_2, x_2) & â€¦ &amp;cov(x_2, x_n)\\ .& .& â€¦& .\\ .& .& â€¦& .\\ cov(x_n, x_1) & cov(x_n, x_2) & â€¦ &amp;cov(x_n, x_n)\\ \end{matrix}\right]$$...</p></div><footer class=entry-footer><span title='2023-12-10 14:51:51 +0800 CST'>åäºŒæœˆ 10, 2023</span>&nbsp;Â·&nbsp;1 åˆ†é’Ÿ&nbsp;Â·&nbsp;pan</footer><a class=entry-link aria-label="post link to PCA" href=https://payne4handsome.github.io/posts/machine-learning/pca/></a></article><article class=post-entry><header class=entry-header><h2>PINK: UNVEILING THE POWER OF REFERENTIAL COMPREHENSION FOR MULTI-MODAL LLMS</h2></header><div class=entry-content><p>Title: PINK: UNVEILING THE POWER OF REFERENTIAL COMPREHENSION FOR MULTI-MODAL LLMS ä½œè€…: Shiyu Xuan å‘è¡¨æ—¥æœŸ: 2023-10-01 ä¸€ã€Introduction èƒŒæ™¯çŸ¥è¯†
Referringï¼šè¯†åˆ«å›¾ç‰‡ä¸­å…·ä½“çš„ç›®æ ‡ç±»åˆ«ï¼ˆåŒ…æ‹¬ç»™å®špointã€bounding boxã€maskç­‰ï¼‰ Groundingï¼šç»™å®šæ–‡æœ¬æè¿°ï¼Œè¾“å‡ºbounding box ç®€å•æ¥è®²ï¼ŒReferringæ˜¯ç»™å®šåæ ‡ï¼Œè¾“å‡ºæ–‡æœ¬ï¼ˆç±»åˆ«æˆ–è€…æè¿°ï¼‰ï¼›Groundingæ˜¯ç»™å®šæ–‡æœ¬ï¼Œè¾“å‡ºåæ ‡
1.1 è¯¥è®ºæ–‡è¯•å›¾è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ å¤§éƒ¨åˆ†çš„MLLMç¼ºä¹æŒ‡ä»£èƒ½åŠ›ï¼ˆReferential Comprehension (RC)ï¼‰ï¼Œè¿™ç¯‡æå‡ºä¸€ä¸ªæ–°æ–¹æ³•å¢å¼ºMLLMçš„RCèƒ½åŠ›ã€‚è¿™ç¯‡æ–‡ç« ä¸­RCå³åŒ…æ‹¬Referringèƒ½åŠ›ä¹ŸåŒ…æ‹¬Groundingèƒ½åŠ›
1.2 Key Contributions æå‡ºpinkå¢åŠ MLLMçš„RCèƒ½åŠ› ç”¨è®¾è®¡çš„å„ç§RCä»»åŠ¡ï¼Œä»¥ä¸€ä¸ªä½æˆæœ¬çš„æ–¹å¼æ„å»ºè´¨é‡å¾®è°ƒæ•°æ®é›†ã€‚ä¸ºäº†è¿›ä¸€æ­¥æå‡æ¨¡å‹RCèƒ½åŠ›ï¼Œæå‡ºè‡ªä¸€è‡´æå‡æ–¹æ³•ï¼ˆself-consistent bootstrapping ï¼‰æ‰©å±•ä¸€ä¸ªæ•°æ®é›†çš„dense object annotationsåˆ°é«˜è´¨é‡çš„referring-expression-bounding-box pairã€‚ ç«¯åˆ°ç«¯è®­ç»ƒæ¡†æ¶ï¼Œä¸¤ä¸ªæ¨¡æ€ä»æŒ‡ä»¤å¾®è°ƒä¸­éƒ½æ”¶ç›Šï¼ˆè§†è§‰ã€LLMåŠ å…¥äº†å¯å­¦ä¹ å‚æ•°ï¼ŒAdapterï¼‰ SOTAï¼ˆåœ¨æŸäº›æ–¹é¢æ¯”Kosmos-2è¿˜å¼ºï¼‰ ä»‹ç»ä¸­çš„è¦ç‚¹ ä¼ ç»ŸVQAå’ŒRCçš„åŒºåˆ« ä¼ ç»Ÿçš„VQAæ˜¯image-levelçš„, RC VQAæ˜¯æ›´ç»†ç²’åº¦çš„ Method æ•´ä½“æ¶æ„ å³è¾¹çš„self-consistent bootstrappingåŒ…æ‹¬ä¸¤æ­¥ï¼ˆ1ï¼‰grounding captionï¼š ç»™å®šæ¡†ç”Ÿæˆcaptionï¼Œï¼ˆ2ï¼‰visual groundingï¼š ç»™å®šcaptioné¢„æµ‹æ¡†
å·¦è¾¹çš„æ¨¡å‹ç»“æ„åŒ…æ‹¬visual encoderï¼Œprojection layerï¼Œdecoder-only LLMã€‚
Training Pipelineï¼šï¼ˆ1ï¼‰ç¬¬ä¸€é˜¶æ®µï¼šåªè®­ç»ƒprojection layerï¼›ï¼ˆ2ï¼‰ç¬¬äºŒé˜¶æ®µï¼šå†»ç»“e visual encoderå’ŒLLMã€‚ è®­ç»ƒæ–°æ·»åŠ çš„Adapterså‚æ•°ï¼ˆviusal encoderå’ŒLLMéƒ½ä¼šæ–°åŠ ä¸€äº›å‚æ•°ï¼‰å’Œprojection layer
æŒ‡ä»¤å¾®è°ƒæ•°æ®é›†æ„å»º è®¾è®¡çš„RC taskåŒ…æ‹¬å¦‚ä¸‹ï¼ˆå‰3ä¸ªæ˜¯å·²ç»å­˜åœ¨å·¥ä½œçš„æ–¹æ³•ï¼Œåé¢çš„æ˜¯ä½œè€…åè®¾è®¡çš„ï¼‰
visual relation reasoning visual spatial reasoning PointQA Visual Relation Reasoning Coarse Visual Spatial Reasoningï¼šdefine four coarse spatial positions as top-left, top-right, bottom-left, and bottom-right....</p></div><footer class=entry-footer><span title='2023-11-12 16:51:28 +0800 CST'>åä¸€æœˆ 12, 2023</span>&nbsp;Â·&nbsp;1 åˆ†é’Ÿ&nbsp;Â·&nbsp;pan</footer><a class=entry-link aria-label="post link to PINK: UNVEILING THE POWER OF REFERENTIAL COMPREHENSION FOR MULTI-MODAL LLMS" href=https://payne4handsome.github.io/posts/papers/2023-11-12-pink/></a></article><article class=post-entry><header class=entry-header><h2>Flamingo</h2></header><div class=entry-content><p>Title: Flamingo: a Visual Language Model for Few-Shot Learning ä½œè€…: Jean-Baptiste Alayrac, Jeff Donahue å‘è¡¨æ—¥æœŸ: 2022.11 ä¸€ã€Introduction 1.1 è¯¥è®ºæ–‡è¯•å›¾è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ å¤šæ¨¡é¢†åŸŸçš„few-shoté—®é¢˜
1.2 Key Contributions æå‡ºFlamingoæ¨¡å‹ï¼Œé€šè¿‡å‡ ä¸ªç¤ºä¾‹å°±å¯æ‰§è¡Œå„ç§å¤šæ¨¡ä»»åŠ¡ã€‚ç”±äºæ¶æ„çš„åˆ›æ–°ï¼ŒFlamingoå¯ä»¥å¤„ç†éšæ„çš„å›¾ç‰‡ï¼ˆå¯ä»¥å¤šå¼ å›¾ç‰‡ï¼‰å’Œæ–‡æœ¬ é€šè¿‡few-shotå­¦ä¹ ï¼Œå®šé‡è¯„ä¼°Flamingoæ˜¯å¦‚ä½•è¿ç§»åˆ°å…¶ä»–å„ç§ä»»åŠ¡çš„ é€šè¿‡few-shotå­¦ä¹ ï¼ŒFlamingoåœ¨16ä»»åŠ¡ä¸­çš„6ä¸ªä»»åŠ¡(6ä¸ªäººä»»åŠ¡æ˜¯finetuneè¿‡çš„)å–åˆ°SOTAã€‚Flamingoå¯ä»¥åœ¨å…¶ä»–æ•°æ®é›†ä¸Šé€šè¿‡fine-tuneå–åˆ°SOTAã€‚ Method Flamingoæ¶æ„æ€»è§ˆå¦‚ä¸‹å›¾ ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°Flamingoæ¶æ„æœ‰ä¸¤ä¸ªå…³é”®ç‚¹ç»„ä»¶ï¼ŒPerceiver Resamplerå’ŒGated XATTN-DENSE
Perceiver Resampler: ä»»æ„æ•°é‡çš„å›¾ç‰‡æˆ–è€…è§†é¢‘ç»è¿‡è§†è§‰æ¨¡å‹ç¼–ç åï¼Œå†é€šè¿‡Pereiver Resamplerè¾“å‡ºå›ºå®šæ•°é‡çš„visual tokensã€‚æ³¨ï¼šè¯¥æ¨¡å—å†³å®šäº†Flamingoå¯ä»¥å¤„ç†å¤šå¼ å›¾ç‰‡çš„èƒ½åŠ›ï¼ˆå³å…·æœ‰few-shotçš„èƒ½åŠ›ï¼‰ Gated XATTN-DENSE: ä¸»è¦æ˜¯æŒ‡cross attentionçš„åŸºç¡€åŠ å…¥é—¨æœºåˆ¶(tanh(a), aåˆå§‹åŒ–ä¸º0)ï¼Œå¯ä»¥æå‡æ€§èƒ½å’Œè®­ç»ƒçš„ç¨³å®šæ€§ Visual processing and the Perceiver Resampler Perceiver Resamplerç¤ºæ„å›¾å¦‚ä¸‹ï¼Œå­¦ä¹ DETRçš„queryæœºåˆ¶ï¼Œæœ‰å‡ ä¸ªqueryï¼Œè¾“å‡ºå°±æ˜¯å‡ ä¸ªvisual tokenï¼ˆè®ºæ–‡ä¸­ä¸º5ï¼‰ Conditioning frozen language models on visual representations åœ¨Transformerä¸­çš„cross attentionçš„åŸºç¡€åŠ å…¥é—¨æœºåˆ¶ Multi-visual input support: per-image/video attention masking ç½‘ç»œä¸Šçˆ¬å–çš„æ–‡æ¡£æ˜¯å›¾ç‰‡å’Œæ–‡æœ¬äº¤é”™çš„ä¿¡æ¯ã€‚è¯¥æ¨¡å—æ˜¯ç”¨æ¥æ§åˆ¶å½“å‰æ–‡æœ¬tokenå¯ä»¥æ³¨æ„åˆ°çš„å›¾ç‰‡ï¼ˆç¦»å½“å‰æ–‡æœ¬tokenæœ€è¿‘çš„ä¸Šä¸€ä¸ªå›¾ç‰‡ï¼‰
Training on a mixture of vision and language datasets Flamingoè®­ç»ƒé‡‡ç”¨äº†ä¸‰ä¸ªæ•°æ®é›†ï¼š...</p></div><footer class=entry-footer><span title='2023-09-24 17:40:40 +0800 CST'>ä¹æœˆ 24, 2023</span>&nbsp;Â·&nbsp;1 åˆ†é’Ÿ&nbsp;Â·&nbsp;pan</footer><a class=entry-link aria-label="post link to Flamingo" href=https://payne4handsome.github.io/posts/papers/2023-09-24-flamingo/></a></article><article class=post-entry><header class=entry-header><h2>MME</h2></header><div class=entry-content><p>Title: MME: A Comprehensive Evaluation Benchmark for Multimodal Large Language Models ä½œè€…: Chaoyou Fu, Peixian Chen, Yunhang Shen, Yulei Qin, Mengdan Zhang, Xu Lin1Zhenyu Qiu, Wei Lin, Jinrui Yang, Xiawu Zheng, Ke Li, Xing Sun, Rongrong Ji; Tencent Youtu Lab , Xiamen University å‘è¡¨æ—¥æœŸ: 2023.7 é¡¹ç›®ä¸»é¡µï¼šMME Note: é¡¹ç›®ä¸»é¡µåŠ å…¥äº†æ–°çš„å¤šæ¨¡æ¨¡å‹ï¼Œå¾—åˆ†å·²ç»è¿œè¿œè¶…è¿‡è®ºæ–‡çš„é‚£ä¸ªå‡ ä¸ªæ¨¡å‹ ä¸€ã€Introduction ç¼©å†™
LLM: Large Language Model MLLM: Multimodal Large Language Model LLM ä¸‰ä¸ªä»£è¡¨æ€§çš„èƒ½åŠ›: In-Context Learning(ICL), instruction following, Chain-of-Thought (CoT)
1.1 è¯¥è®ºæ–‡è¯•å›¾è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ å¤šæ¨¡æ¨¡å‹ç¼ºä¹ä¸€ä¸ªå…¨é¢çš„è¯„ä¼°benchmarkï¼Œè¯¥è®ºæ–‡é¦–æ¬¡æå‡ºå¤šæ¨¡å¤§æ¨¡å‹çš„è¯„ä¼°benchmark MMEã€‚åœ¨14ä¸ªå­ä»»åŠ¡ä¸Šåº¦é‡å¤šæ¨¡å¤§æ¨¡å‹çš„æ„ŸçŸ¥å’Œè®¤çŸ¥èƒ½åŠ›ã€‚...</p></div><footer class=entry-footer><span title='2023-09-08 11:29:11 +0800 CST'>ä¹æœˆ 8, 2023</span>&nbsp;Â·&nbsp;1 åˆ†é’Ÿ&nbsp;Â·&nbsp;pan</footer><a class=entry-link aria-label="post link to MME" href=https://payne4handsome.github.io/posts/papers/2023-09-08-mme/></a></article><article class=post-entry><header class=entry-header><h2>Efficient Training</h2></header><div class=entry-content><p>å¯¹äºæ¨¡å‹çš„è®­ç»ƒï¼Œè®­ç»ƒçš„é€Ÿåº¦å’Œæ˜¾å­˜çš„å ç”¨æ˜¯å¿…é¡»è¦è€ƒè™‘çš„ä¸¤ä¸ªå› ç´ ï¼Œç‰¹åˆ«æ˜¯ç°åœ¨æ¨¡å‹è¶Šæ¥è¶Šå¤§ã€‚1.4Bçš„æ¨¡å‹ï¼Œåœ¨32GBçš„GPUä¸Šè®­ç»ƒå°±ä¼šOOMã€‚æ›´åˆ«æç°åœ¨åŠ¨ä¸åŠ¨å°±å‡ ç™¾Bç”šè‡³ä¸ŠåƒBçš„æ¨¡å‹ã€‚æ‰€ä»¥åˆ†æé‚£äº›å› ç´ å¯¹æ¨¡å‹çš„è®­ç»ƒé€Ÿåº¦å’Œæ˜¾å­˜çš„å ç”¨æ˜¯ååˆ†å¿…è¦çš„ã€‚
æ˜¾å­˜å ç”¨åˆ†æï¼ˆè®­ç»ƒé˜¶æ®µï¼‰ åœ¨è®­ç»ƒé˜¶æ®µï¼Œæ˜¾å­˜è¢«å¦‚ä¸‹ç»„ä»¶å ç”¨
model weights optimizer states gradients forward activations saved for gradient computation temporary buffers functionality-specific memory åœ¨ZeROä¸­model weightsã€optimizer statesã€gradientsè¢«ç§°ä¸ºæ¨¡å‹çŠ¶æ€ï¼ˆmodel statesï¼‰, å‰©ä¸‹çš„è¢«ç§°ä¸ºå‰©ä½™çŠ¶æ€ï¼ˆresidual statesï¼‰
å…·ä½“çš„è®¡ç®—å¦‚ä¸‹ï¼ˆå‚æ•°é‡å‡è®¾ä¸º1ï¼‰
model weights 4 bytes ï¼š fp32 training 6 bytes ï¼š mixed precision trainingï¼ˆå³éœ€è¦ä¿å­˜ä¸€ä¸ªfloat32å‚æ•°ï¼Œåˆéœ€è¦ä¿å­˜ä¸€ä¸ªfloat16å‚æ•°ï¼‰ Optimizer States 8 bytesï¼šå¯¹äºå¤§æ¨¡å‹ä¼˜åŒ–å™¨ä¸€èˆ¬ä¸ºAdamWï¼ˆåŒ…å«ä¸€é˜¶æ¢¯åº¦å’ŒäºŒé˜¶æ¢¯åº¦ï¼Œæ‰€ä»¥å¯¹äºä¸€ä¸ªå‚æ•°ï¼Œä¼˜åŒ–å™¨å ç”¨8ä¸ªæ¯”ç‰¹ï¼‰ 2 bytesï¼š8-bit AdamW optimizer 4 bytesï¼šSGD with momentum Gradients 4 bytesï¼š fp32 or mixed precision training ï¼ˆæ³¨ï¼šå¯¹äºæ··åˆç²¾åº¦è®­ç»ƒï¼Œä¸€ä¸ªå‚æ•°çš„æ¢¯åº¦ï¼ŒZeROè®ºæ–‡ä»»åŠ¡æ˜¯2 bytes(float16), Hugging faceä¸­è®¤ä¸ºæ¢¯åº¦ä¸€èˆ¬æ˜¯4 bytes(float32)ã€‚ï¼‰ã€‚æ‰€ä»¥è¿™é‡Œä¸å¤ªç¡®å®šï¼Œè·å–ä¸¤ç§è®¡ç®—æ–¹å¼éƒ½æ˜¯æ­£ç¡®çš„ï¼ˆç”±æ¡†æ¶å®ç°å†³å®šï¼‰ æ‰€ä»¥ï¼Œå¦‚æœä½¿ç”¨æ··åˆç²¾åº¦è®­ç»ƒï¼Œä¸€ä¸ªå‚æ•°ï¼Œéœ€è¦æ¶ˆè€—18ä¸ªbytesï¼ˆ6+8+4ï¼‰ï¼ˆZeROè®¤ä¸º16ä¸ªbytesï¼‰
å‡å°‘æ˜¾å­˜ä½¿ç”¨å’Œæå‡è®­ç»ƒé€Ÿåº¦çš„tricks Method Speed Memory å¤‡æ³¨ Gradient accumulation No Yes Gradient checkpointing No Yes Mixed precision training Yes (No) ä¸å¤ªä¸¥è°¨ Batch size Yes Yes Optimizer choice Yes Yes DataLoader Yes No DeepSpeed Zero No Yes å¿…è¦çš„è§£é‡Š...</p></div><footer class=entry-footer><span title='2023-08-28 14:02:00 +0800 CST'>å…«æœˆ 28, 2023</span>&nbsp;Â·&nbsp;1 åˆ†é’Ÿ&nbsp;Â·&nbsp;pan</footer><a class=entry-link aria-label="post link to Efficient Training" href=https://payne4handsome.github.io/posts/machine-learning/efficient-training-on-a-single-gpu/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://payne4handsome.github.io/page/2/>ä¸‹ä¸€é¡µ&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=https://payne4handsome.github.io>Pan'Log</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>